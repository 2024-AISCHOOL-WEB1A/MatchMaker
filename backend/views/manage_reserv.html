{% extends "main.html" %}

{% block content %}
<h1>ğŸ¥ ì˜ˆì•½ ê´€ë¦¬ í˜ì´ì§€ ì…ë‹ˆë‹¹ ğŸ¥</h1>

{% if boss_id %}
    <p>ê´€ë¦¬ì: {{ boss_id }}</p>
    {% if reservations.length > 0 %}
        <h3>ì˜ˆì•½ ì •ë³´</h3>
        <table border="1">
            <thead>
                <tr>
                    <th>ì˜ˆì•½ ID</th>
                    <th>ì‚¬ìš©ì ID</th>
                    <th>ì½”íŠ¸ ì´ë¦„</th>
                    <th>ì˜ˆì•½ ë‚ ì§œ</th>
                    <th>ì˜ˆì•½ ì‹œì‘ ì‹œê°„</th>
                    <th>ì˜ˆì•½ ì¢…ë£Œ ì‹œê°„</th>
                    <th>ë§¤ì¹˜ ì œëª©</th>
                    <th>íŒ€ A ì‚¬ìš©ì 1</th>
                    <th>íŒ€ A ì‚¬ìš©ì 2</th>
                    <th>íŒ€ A ì‚¬ìš©ì 3</th>
                    <th>íŒ€ A ì‚¬ìš©ì 4</th>
                    <th>íŒ€ A ì‚¬ìš©ì 5</th>
                    <th>íŒ€ B ì‚¬ìš©ì 1</th>
                    <th>íŒ€ B ì‚¬ìš©ì 2</th>
                    <th>íŒ€ B ì‚¬ìš©ì 3</th>
                    <th>íŒ€ B ì‚¬ìš©ì 4</th>
                    <th>íŒ€ B ì‚¬ìš©ì 5</th>
                    <th>ì˜ˆì•½ ì·¨ì†Œ</th>
                </tr>
            </thead>
            <tbody>
                {% for reservation in reservations %}
                <tr onclick="redirectToWLResult('{{ reservation.reserv_idx }}')">
                    <td>{{ reservation.reserv_idx }}</td>
                    <td>{{ reservation.user_id }}</td>
                    <td>{{ reservation.court_name }}</td>
                    <td>{{ reservation.reserv_dt }}</td>
                    <td>{{ reservation.reserv_st_tm }}</td>
                    <td>{{ reservation.reserv_ed_tm }}</td>
                    <td>{{ reservation.match_title }}</td>
                    <td>{{ reservation.teamA_user1 }}</td>
                    <td>{{ reservation.teamA_user2 }}</td>
                    <td>{{ reservation.teamA_user3 }}</td>
                    <td>{{ reservation.teamA_user4 }}</td>
                    <td>{{ reservation.teamA_user5 }}</td>
                    <td>{{ reservation.teamB_user1 }}</td>
                    <td>{{ reservation.teamB_user2 }}</td>
                    <td>{{ reservation.teamB_user3 }}</td>
                    <td>{{ reservation.teamB_user4 }}</td>
                    <td>{{ reservation.teamB_user5 }}</td>
                    <td>
                        <form action="/manage/cancel_reservation" method="post" onsubmit="return confirm('ì •ë§ë¡œ ì´ ì˜ˆì•½ì„ ì·¨ì†Œí•˜ì‹œê² ìŠµë‹ˆê¹Œ?');">
                            <input type="hidden" name="reserv_idx" value="{{ reservation.reserv_idx }}">
                            <button type="submit">ì·¨ì†Œ</button>
                        </form>
                    </td>
                    
                </tr>
                {% endfor %}
            </tbody>
        </table>
    {% else %}
        <p>ì˜ˆì•½ ì •ë³´ê°€ ì—†ìŠµë‹ˆë‹¤.</p>
    {% endif %}
{% else %}
    <p>ê¶Œí•œì´ ì—†ìŠµë‹ˆë‹¤.</p>
{% endif %}

<script>
    function redirectToWLResult(reserv_idx) {
        window.location.href = '/manage/result_set/' + reserv_idx;
    }
</script>

{% endblock %}
